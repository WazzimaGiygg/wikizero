<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fórum Wiki Zone</title>
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <link rel="stylesheet" href="https://code.getmdl.io/1.3.0/material.indigo-pink.min.css">
    <script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-firestore-compat.js"></script>
</head>
<body>
    <script>
        // Configuração Firebase
        const firebaseConfig = {
            apiKey: "sua-api-key",
            authDomain: "seu-auth-domain",
            projectId: "seu-project-id",
            storageBucket: "seu-storage-bucket",
            messagingSenderId: "seu-sender-id",
            appId: "seu-app-id",
            measurementId: "seu-measurement-id"
        };

        if (!firebase.apps.length) {
            firebase.initializeApp(firebaseConfig);
        }

        const auth = firebase.auth();
        const firestore = firebase.firestore();

        // Função para verificar se o usuário está logado
        function checkUserStatus() {
            const user = auth.currentUser;
            if (user) {
                // Exibir o conteúdo do fórum
                loadForumContent();
            } else {
                alert("Você precisa estar logado para acessar o fórum!");
                window.location.href = 'login.html'; // Redirecionar para página de login
            }
        }

        // Função para carregar os tópicos do fórum
        function loadForumContent() {
            fetch('https://api.exemplo.com/forum', {
                method: 'GET',
                headers: {
                    'X-Access-Key': '$2a$10$yYkleiX8VSZNdbcsN8o6iuVm56ZSSHYExMh.OZ8DW07Qx5B1OJpj6',
                    'X-master-key': '$2a$10$cEA4Da43tn/93eVxBkR.AufLM/ALUPxOgh8KskR1QvSLsUHzLyb4y'
                }
            })
            .then(response => response.json())
            .then(data => {
                displayForum(data);
            })
            .catch(error => console.error('Erro ao carregar os tópicos do fórum:', error));
        }

        // Função para exibir os tópicos do fórum
        function displayForum(data) {
            const forumContainer = document.getElementById('forum-content');
            forumContainer.innerHTML = ''; // Limpar conteúdo existente
            data.topics.forEach(topic => {
                const topicElement = document.createElement('div');
                topicElement.classList.add('forum-topic');
                topicElement.innerHTML = `
                    <h3>${topic.title}</h3>
                    <p>${topic.content}</p>
                    <small>Criado por: ${topic.author}</small>
                `;
                forumContainer.appendChild(topicElement);
            });
        }

        // Chama a função para verificar o status do usuário ao carregar a página
        window.onload = function() {
            checkUserStatus();
        };
    </script>

    <!-- Conteúdo da página -->
    <div id="forum-content" class="page-content">
        <!-- Os tópicos do fórum serão carregados aqui -->
    </div>
</body>
</html>
